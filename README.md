# upload_space_images_to_telegram


Файл upload_image_to_telegram_channel.py по умолчанию раз в 4 часа загружает одно фото на настроенный телеграм канал. Фотографии хранятся в папке images, которая находится в корне проекта.
Время между загрузками можно изменить, передав время через терминал.
Время считается в секундах.
Для успешной загрузки фотографий на телеграм канал, нужны:
<ol>
  <li>Бот с токеном.</li>
  <li>Бот должен быть администратором канала куда будем загружать фотографии.</li>
  <li>Размер фото меньше 20МБ.</li>
</ol>

Файл `fetch_spacex_images.py` используется для скачивания фотографий из [spacexdata](https://spacexdata.com). Cкачанные фотографии хранятся в папке images, который находится в корне проекта, если такой папки нет, он создается при скачивании первой фотографии. По умолчанию скачивает фотографии с поледнего запуска. Для скачивания фотографий из других запусков, есть возможность передать в терминале id запуска.


Файл `fetch_nasa_apod_images.py` используется для скачивания фотографий из [NASA APOD](https://api.nasa.gov/planetary/apod?count=3&api_key=DEMO_KEY). Для доступа к фотографиям, нужен `NASA_API_KEY`. Cкачанные фотографии хранятся в папке images, который находится в корне проекта, если такой папки нет, он создается при скачивании первой фотографии. По умолчанию, скачиваются 3 фотографии. Чтобы уменшить или увеличить количество скачиваемых фотографий можно передать параметр count в терминале.


Файл `fetch_nasa_epic_images.py` используется для скачивания самых свежих фотографий земли из космоса. Для доступа к данным фотографий нужен `NASA_API_KEY`. Скачанные фотографии хранятся в папке images, который находится в корне проекта, если такой папки нет, он создается при скачивании первой фотографии.

Вспомогательные функции находятся в файлах `download_image.py` и `get_file_extension_from_file.py`. Эти файлы нужны для скачивания фотографии и для извлечения расширения из фотографии.

### Требования к окружению

Операционная система (ОС): `Ubuntu 22.04`, должен работать и в других ОС без проблем.</br>
Версия интерпретатора: `Python 3.10.6`, думаю поддерживается с большинством версий Python3.</br>
Версия пакет менеджера: `pip3 22.3.1`</br>
В проекте нужно создать файл .env, в котором будут храниться переменные окружения `NASA_API_KEY`
и `TELEGRAM_BOT_TOKEN`</br>
Функция load_dotenv() из модуля dotenv, нужно для чтения файла .env и для настройки переменного окружения.
Внимание! Модуль dotenv нужно установить, он не входит в список модулей по умолчанию. Про установку нужных модулей, написано ниже.


### Как установить?

Python3 должен быть уже установлен.</br>
Затем используйте `pip` (или `pip3`, м.б. конфликт с Python2)
для установки зависимостей наберите команду в терминале:
```bash
pip install -r requirements.txt
```

Рекомендуется использовать [virtualenv/venv](https://docs.python.org/3/library/venv.html)
для изоляции проекта.


### Использование upload_image_to_telegram_channel.py

Из терминала (командной строки) набираете следующую команду:

```bash
# По умолчанию.
(.venv) user@host:$ python upload_image_to_telegram_channel.py


```

```bash
# Если время передается в терминале. Ниже показан пример для загрузки каждые 10 минут.
(.venv) user@host:$ python upload_image_to_telegram_channel.py 10*60 

```


### Использование fetch_spacex_images.py

Из терминала (командной строки) набираете следующую команду:

```bash
# По умолчанию.
(.venv) user@host:$ python fetch_spacex_images.py


```

```bash
# Если id запуска передается через в терминале. Ниже показан пример загрузки фотографий по id
(.venv) user@host:$ python fetch_spacex_images.py "launch id should be entered"

```

### Использование fetch_nasa_apod_images.py

Из терминала (командной строки) набираете следующую команду:

```bash
# По умолчанию следующая команда скачивает 3 фотографии. Т.к. параметр count=3
(.venv) user@host:$ python fetch_nasa_apod_images.py


```

```bash
# Если нужно скачать больше фотографий, нужно передать нужную цифру в параметр count 
# втерминале. Ниже показан пример команды для загрузки 30 фотографий.
(.venv) user@host:$ python fetch_nasa_apod_images.py 30

```

### Использование fetch_nasa_epic_images.py

Из терминала (командной строки) набираете следующую команду:

```bash

(.venv) user@host:$ python fetch_nasa_epic_images.py


```


### Цель проекта

Код написан в образовательных целях на онлайн-курсе для веб-разработчиков [dvmn.org](https://dvmn.org).
